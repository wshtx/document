# 性能与安全

## 多维数组

多维数组的内存分配容易造成内存碎片，导致访问时`cache miss`，降低效率，可以使用一维数组代替多维数组。一维数组代替多维数组存储数据，更简单，访问效率更高。

多维数组转化为一维数组的一种遍历方式：
```c++
//二维数组
int** arr = new int * [5];
for(int i = 0;i < 5; i++){
    arr[i] = new int[5];
}
//遍历二维数组
for(int i = 0;i < 5; i++){
    for(int j = 0; j < 5; j++){
        arr[i][j] = 0;
    }
}

//二维数组转化为一维数组后
int* arr2 = new int[5 * 5];
//遍历一维数组
for(int i = 0; i < 5; i++){
    for(int j = 0; j < 5; j++){
        arr[i + j * 5] = 0;
    }
}
```
 